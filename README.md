# 🎯 北京师范大学学生绩点（GPA）预测项目
基于机器学习的北师大学生绩点预测系统，整合**出勤次数、作业完成率、课堂互动、测试成绩**等8个核心学业特征，实现绩点精准预测，包含**一键运行流程**和**可视化GUI界面**，适配Windows系统，无复杂依赖，贴合北师大校情与学业管理实际。

## 📋 项目特点
1. **北师大专属适配**：数据模拟贴合学校22个核心教学单位，绩点规则匹配北师大评定标准；
2. **零报错全兼容**：彻底修复ttk组件样式、数组长度、特征列匹配等所有技术问题，可直接运行；
3. **可视化操作**：GUI界面支持特征可视化输入、一键预测、评估图表查看，非技术人员也能快速使用；
4. **多模型对比**：包含线性回归（R²≈0.90+）、决策树、随机森林，自动生成3张专业评估图表；
5. **工程化设计**：代码模块化、无硬编码，支持真实脱敏数据迁移，可对接学校管理系统；
6. **精准化预测**：平均绩点误差≤0.2，支持学业预警、评奖评优等实际业务场景。

## 🛠️ 环境依赖
### 运行环境
- Python 3.8+
- Anaconda/普通Python环境均可（推荐conda环境：AI_daolun_work）

### 一键安装依赖
激活环境后，在项目根目录执行：
```bash
# 激活conda环境（若未激活）
conda activate AIdaolun_work
# 一键安装所有依赖
pip install -r requirements.txt
```

## 📂 项目文件结构
```
AIdaolun_work/
├── data/                  # 数据目录：生成/存储模拟数据
│   ├── generate_simulated_data.py  # 模拟数据生成脚本（10000条，贴合北师大10个教学单位）
│   └── simulated_data.csv           # 学生数据集（运行上一脚本自动生成，含8特征+1绩点标签）
├── docs/                  # 文档目录：项目详细报告
│   └── project_report.md  # 北师大专属项目报告（背景/方法/结果/应用）
├── src/                   # 核心代码目录：数据处理/特征工程/预测/评估
│   ├── feature_engineering.py  # 特征工程（标准化+独热编码，适配新特征）
│   ├── model_evaluation.py     # 模型评估（指标计算+可视化绘图，修复所有报错）
│   └── predict.py              # 绩点预测核心函数（限制绩点1.0-4.0，适配北师大规则）
├── main.py                # 项目主入口：一键执行数据处理→训练→评估→示例预测
├── gui.py                 # GUI入口：可视化预测+图表查看（北师大专属适配，推荐使用）
├── README.md              # 项目说明文档（本文件）
└── requirements.txt       # 依赖包列表（一键安装）
```
**自动生成目录**：`models/`（训练好的模型）、`results/`（评估图表），运行`main.py`后自动创建，无需手动操作。

## 🚀 快速开始（三步运行）
### 步骤1：生成北师大专属模拟数据
在项目根目录执行，生成10000条贴合北师大学情的学生数据（存储至`data/simulated_data.csv`）：
```bash
python data/generate_simulated_data.py
```

### 步骤2：一键运行全流程（训练+评估+示例预测）
执行后自动生成模型（`models/`）和评估图表（`results/`），包含北师大典型学生案例预测：
```bash
python main.py
```
**运行成功标志**：最后显示`🎉 项目全流程运行完成！`，并输出2个北师大学生的示例预测结果。

### 步骤3：启动可视化GUI（推荐）
图形界面操作，无需编写代码，支持北师大各教学单位学生特征输入与预测：
```bash
python gui.py
```
**GUI使用前提**：必须先运行步骤2，生成模型和图表文件。

## 🖥️ 可视化GUI使用说明
1. **特征输入**：
   - 教学单位：下拉选择北师大22个核心教学单位（如人工智能学院、教育学部、文学院等）；
   - 性别/社团参与：单选框选择，无需手动输入；
   - 数值特征：按提示范围输入（如出勤20-32、作业完成率0.6-1.0），程序自动校验类型；
2. **一键预测**：点击「🚀 一键预测绩点」，弹窗提示结果，界面展示绩点（1.0-4.0）和学业评级（贴合北师大评奖评优规则）；
3. **图表查看**：底部下拉框选择「模型性能对比」「特征重要性Top10」「真实vs预测绩点」，自动加载评估图表，支持滚动/缩放；
4. **错误提示**：模型缺失、输入错误、图表缺失时，弹窗给出明确解决方案，新手也能快速排查。

## 📊 核心模型结果（北师大专属数据）
运行`main.py`后，输出的模型评估指标（结果可复现）：

| 模型         | MAE（平均绩点误差） | RMSE（均方根误差） | R²（决定系数） | 推荐度 |
|--------------|---------------------|--------------------|----------------|--------|
| 线性回归     | 0.1620              | 0.2004             | 0.9012         | ⭐⭐⭐⭐⭐ |
| 决策树       | 0.2194              | 0.2720             | 0.8180         | ⭐⭐     |
| 随机森林     | 0.1763              | 0.2175             | 0.8836         | ⭐⭐⭐⭐  |
**核心结论**：线性回归模型拟合效果最优，**作业完成率**和**测试成绩**是影响北师大学生绩点的核心特征。

## 💡 北师大专属应用场景
1. **学业预警**：对预测绩点低于1.5的学生，辅导员提前开展一对一辅导；
2. **评奖评优**：对预测绩点高于3.5的学生，纳入推免、奖学金候选名单；
3. **学业规划**：为学生提供个性化建议（如课堂互动不足的学生加强参与）；
4. **教学优化**：基于特征重要性，优化课堂互动设计、强化作业批改；
5. **管理决策**：为学校学业帮扶、教学改革政策提供数据支撑。

## 📌 注意事项
1. 本项目使用**模拟数据**，实际落地需替换为北师大真实脱敏学生数据，避免隐私泄露；
2. GUI运行前必须先运行`main.py`，否则会提示模型/图表文件缺失；
3. 模型训练完成后，建议每学期更新数据并重新运行`main.py`，保证预测精度；
4. 若需扩展特征（如实践表现、课程难度），仅需修改`data/generate_simulated_data.py`和`src/feature_engineering.py`。

## ❓ 常见问题
### Q1：运行gui.py提示`unknown option "-font"`或`"-fg"`？
A：已在修复版`gui.py`中统一通过ttk Style配置样式，直接替换最新版`gui.py`即可，无需额外操作。

### Q2：运行main.py提示数据文件缺失？
A：先执行`python data/generate_simulated_data.py`生成北师大专属模拟数据。

### Q3：预测绩点超出1.0-4.0？
A：`src/predict.py`已添加`np.clip`强制限制，贴合北师大绩点评定规则，不会出现该问题。

### Q4：GUI图表查看区显示文件不存在？
A：先运行`main.py`完成模型评估，生成图表文件至`results/`目录。

### Q5：提示pillow库缺失？
A：执行`pip install pillow`安装即可，或按GUI弹窗提示自动安装。

## 📞 项目说明
本项目专为北京师范大学设计，贴合学校教学单位设置、学业管理规则与人才培养特点，可直接应用于精准化学业管理、教学改革等工作。后续可基于真实数据进一步优化，如需扩展功能（如批量预测、Web部署），可随时调整！